# A2A Web UI

## Overview

The A2A Web UI is an experimental web-based interface for managing, monitoring, and interacting with A2A agent servers. It provides a visual way to launch agents, send messages, view logs, and monitor agent health.

## Prerequisites

- Docker Desktop installed and running
- A2A Hosting Server running
- Modern web browser (Chrome, Firefox, Edge, Safari)

## Installation

### Install the Package

```bash
dotnet add package LlmTornado.A2A.WebUI
```

### Launch the Web UI

```csharp
using LlmTornado.A2A.WebUI;

WebApplicationBuilder builder = WebApplication.CreateBuilder(args);

// Add Web UI services
builder.Services.AddA2AWebUI(options =>
{
    options.HostingServerUrl = "http://localhost:8000";
    options.EnableAuthentication = false; // Enable in production
});

WebApplication app = builder.Build();

// Serve Web UI
app.UseA2AWebUI();

// Redirect root to Web UI
app.MapGet("/", () => Results.Redirect("/webui"));

app.Run();
```

### Access the Web UI

Open your browser and navigate to:
```
http://localhost:5000/webui
```

## Features

### 1. Agent Dashboard

View all running agents at a glance:
- Agent name and status
- Uptime and health
- Request count and performance metrics
- Resource usage (CPU, memory)

```
┌─────────────────────────────────────────┐
│ Agent Dashboard                          │
├─────────────────────────────────────────┤
│ ● Weather Agent    ✓ Healthy  2h 15m   │
│ ● Task Agent       ✓ Healthy  1h 45m   │
│ ● Research Agent   ⚠ Warning  30m      │
└─────────────────────────────────────────┘
```

### 2. Launch New Agents

Launch agent servers with a simple form:
- Select agent image from registry
- Configure environment variables
- Set port and resource limits
- Specify network settings

### 3. Agent Chat Interface

Interactive chat interface for each agent:
- Send messages to agents
- View conversation history
- See streaming responses in real-time
- Export conversations

### 4. Agent Logs

Real-time log viewer:
- Filter by log level (Info, Warning, Error)
- Search logs
- Download log files
- Auto-refresh

### 5. Health Monitoring

Monitor agent health and performance:
- Real-time metrics dashboard
- Historical performance charts
- Resource usage graphs
- Alert notifications

## Using the Web UI

### Launching an Agent

1. Click **"Launch Agent"** button
2. Fill in the form:
   - **Agent Name**: `weather-agent`
   - **Image Tag**: `weather-agent:latest`
   - **Port**: `5001`
   - **Environment Variables**: 
     - `OPENAI_API_KEY`: `your-key`
3. Click **"Launch"**
4. Wait for agent to start
5. Agent appears in dashboard when ready

### Interacting with an Agent

1. Click on agent card in dashboard
2. Navigate to **"Chat"** tab
3. Type message in input box
4. Press Enter or click **"Send"**
5. View agent response
6. Continue conversation

### Viewing Agent Logs

1. Click on agent card
2. Navigate to **"Logs"** tab
3. Use filter controls:
   - Select log level
   - Enter search terms
   - Set date range
4. Logs update in real-time
5. Click **"Download"** to export logs

### Monitoring Agent Health

1. Click on agent card
2. Navigate to **"Metrics"** tab
3. View real-time metrics:
   - Request rate
   - Response time
   - Error rate
   - Resource usage
4. Adjust time range for historical data
5. Set up alerts for anomalies

### Managing Agent Lifecycle

**Stop an Agent:**
1. Click on agent card
2. Click **"Stop"** button
3. Confirm action
4. Agent status updates to "Stopped"

**Restart an Agent:**
1. Click on stopped agent card
2. Click **"Restart"** button
3. Agent relaunches with same configuration

**Remove an Agent:**
1. Stop the agent first
2. Click **"Remove"** button
3. Confirm deletion
4. Agent removed from dashboard

## Configuration

### Web UI Settings

```csharp
builder.Services.AddA2AWebUI(options =>
{
    // Hosting server connection
    options.HostingServerUrl = "http://localhost:8000";
    
    // Authentication
    options.EnableAuthentication = true;
    options.AuthenticationScheme = "Bearer";
    
    // UI customization
    options.Theme = "dark"; // or "light"
    options.BrandingTitle = "My A2A System";
    options.BrandingLogoUrl = "/logo.png";
    
    // Features
    options.EnableChatInterface = true;
    options.EnableLogViewer = true;
    options.EnableMetrics = true;
    
    // Performance
    options.LogRefreshInterval = TimeSpan.FromSeconds(5);
    options.MetricsRefreshInterval = TimeSpan.FromSeconds(10);
    options.MaxLogLines = 1000;
});
```

### Theming

Customize the appearance:

```css
/* Custom theme CSS */
:root {
    --primary-color: #007bff;
    --background-color: #1a1a1a;
    --text-color: #ffffff;
    --card-background: #2a2a2a;
}
```

## Keyboard Shortcuts

- `Ctrl+K`: Focus search
- `Ctrl+L`: Open launch dialog
- `Ctrl+R`: Refresh dashboard
- `Esc`: Close dialogs
- `Ctrl+Enter`: Send message in chat

## Best Practices

### Security
- Enable authentication in production
- Use HTTPS for production deployments
- Implement role-based access control
- Audit user actions
- Secure API keys and secrets

### Performance
- Limit number of agents displayed
- Paginate log entries
- Use efficient refresh intervals
- Cache static assets
- Optimize network requests

### Usability
- Provide clear feedback for actions
- Show loading states
- Display error messages clearly
- Enable keyboard navigation
- Make UI responsive for mobile

### Monitoring
- Set up alerts for critical events
- Monitor Web UI performance
- Track user interactions
- Log errors and warnings
- Implement health checks

## Troubleshooting

### Web UI Won't Load
**Solutions:**
- Check hosting server is running
- Verify URL is correct
- Check browser console for errors
- Clear browser cache
- Try different browser

### Can't Launch Agents
**Solutions:**
- Verify Docker is running
- Check Docker permissions
- Validate agent image exists
- Ensure ports are available
- Review hosting server logs

### Chat Not Working
**Solutions:**
- Verify agent is running
- Check network connectivity
- Ensure WebSocket connection
- Review browser console
- Test agent directly via API

### Logs Not Displaying
**Solutions:**
- Check log viewer permissions
- Verify agent is generating logs
- Increase max log lines setting
- Clear log filters
- Restart Web UI

## API Integration

The Web UI communicates with the Hosting Server via REST API and WebSockets:

```typescript
// REST API calls
fetch(`${hostingServerUrl}/hosting/agents`, {
    method: 'GET',
    headers: { 'Content-Type': 'application/json' }
});

// WebSocket for real-time updates
const ws = new WebSocket(`ws://${hostingServerUrl}/ws/agents`);
ws.onmessage = (event) => {
    const update = JSON.parse(event.data);
    updateAgentStatus(update);
};
```

## Related Topics

- [A2A Getting Started](./1.%20Getting-Started.md)
- [Agent Server](./2.%20Agent-Server.md)
- [Hosting Server](./3.%20Hosting-Server.md)
- [Agent Basics](../2.%20Agents/1.%20Getting-Started.md)
