import{_ as i,c as a,o as n,a0 as h}from"./chunks/framework.MNVsvnY4.js";const g=JSON.parse('{"title":"Basic Agent","description":"","frontmatter":{},"headers":[],"relativePath":"tutorials/agents/starter-agent.md","filePath":"7. Tutorials/Agents/1. Starter Agent.md"}'),k={name:"tutorials/agents/starter-agent.md"};function t(p,s,l,e,D,r){return n(),a("div",null,s[0]||(s[0]=[h(`<h1 id="basic-agent" tabindex="-1">Basic Agent <a class="header-anchor" href="#basic-agent" aria-label="Permalink to &quot;Basic Agent&quot;">​</a></h1><h2 id="your-first-chat-bot" tabindex="-1">Your First Chat Bot <a class="header-anchor" href="#your-first-chat-bot" aria-label="Permalink to &quot;Your First Chat Bot&quot;">​</a></h2><div class="language-csharp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">csharp</span><pre class="shiki shiki-themes vitesse-light dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#C586C0;">using</span><span style="--shiki-light:#2E8F82;--shiki-dark:#4EC9B0;"> LlmTornado</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#C586C0;">using</span><span style="--shiki-light:#2E8F82;--shiki-dark:#4EC9B0;"> LlmTornado</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#2E8F82;--shiki-dark:#4EC9B0;">Agents</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#C586C0;">using</span><span style="--shiki-light:#2E8F82;--shiki-dark:#4EC9B0;"> LlmTornado</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#2E8F82;--shiki-dark:#4EC9B0;">Chat</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#2E8F82;--shiki-dark:#4EC9B0;">Models</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#2E8F82;--shiki-dark:#4EC9B0;">TornadoApi</span><span style="--shiki-light:#59873A;--shiki-dark:#9CDCFE;"> api</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#AB5959;--shiki-dark:#569CD6;"> new</span><span style="--shiki-light:#2E8F82;--shiki-dark:#4EC9B0;"> TornadoApi</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#CE9178;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#CE9178;">your-api-key</span><span style="--shiki-light:#B5695977;--shiki-dark:#CE9178;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#2E8F82;--shiki-dark:#4EC9B0;">TornadoAgent</span><span style="--shiki-light:#59873A;--shiki-dark:#9CDCFE;"> agent</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#AB5959;--shiki-dark:#569CD6;"> new</span><span style="--shiki-light:#2E8F82;--shiki-dark:#4EC9B0;"> TornadoAgent</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;">api</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;"> ChatModel</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;">OpenAi</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;">Gpt41</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;">V41Mini</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#59873A;--shiki-dark:#9CDCFE;"> instructions</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#CE9178;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#CE9178;">You are a useful assistant.</span><span style="--shiki-light:#B5695977;--shiki-dark:#CE9178;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#2E8F82;--shiki-dark:#4EC9B0;">Conversation</span><span style="--shiki-light:#59873A;--shiki-dark:#9CDCFE;"> conv</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;"> agent</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;">Client</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;">Chat</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#DCDCAA;">CreateConversation</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;">agent</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;">Options</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;">Console</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#DCDCAA;">Write</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#CE9178;">&quot;</span><span style="--shiki-light:#A65E2B;--shiki-dark:#D7BA7D;">\\n</span><span style="--shiki-light:#B56959;--shiki-dark:#CE9178;">[Assistant]: Hello</span><span style="--shiki-light:#B5695977;--shiki-dark:#CE9178;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#569CD6;">string</span><span style="--shiki-light:#59873A;--shiki-dark:#9CDCFE;"> topic</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#B5695977;--shiki-dark:#CE9178;"> &quot;&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#C586C0;">while</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;">topic</span><span style="--shiki-light:#AB5959;--shiki-dark:#D4D4D4;"> !=</span><span style="--shiki-light:#B5695977;--shiki-dark:#CE9178;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#CE9178;">exit</span><span style="--shiki-light:#B5695977;--shiki-dark:#CE9178;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">{</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;">    Console</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#DCDCAA;">Write</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#CE9178;">&quot;</span><span style="--shiki-light:#A65E2B;--shiki-dark:#D7BA7D;">\\n</span><span style="--shiki-light:#B56959;--shiki-dark:#CE9178;">[User]: </span><span style="--shiki-light:#B5695977;--shiki-dark:#CE9178;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;">    topic</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;"> Console</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#DCDCAA;">ReadLine</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">();</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#C586C0;">    if</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;">topic</span><span style="--shiki-light:#AB5959;--shiki-dark:#D4D4D4;"> ==</span><span style="--shiki-light:#B5695977;--shiki-dark:#CE9178;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#CE9178;">exit</span><span style="--shiki-light:#B5695977;--shiki-dark:#CE9178;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">)</span><span style="--shiki-light:#1E754F;--shiki-dark:#C586C0;"> break</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;">    Console</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#DCDCAA;">Write</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#CE9178;">&quot;</span><span style="--shiki-light:#A65E2B;--shiki-dark:#D7BA7D;">\\n</span><span style="--shiki-light:#B56959;--shiki-dark:#CE9178;">[Assistant]: </span><span style="--shiki-light:#B5695977;--shiki-dark:#CE9178;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;">    conv</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#AB5959;--shiki-dark:#569CD6;"> await</span><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;"> agent</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#DCDCAA;">RunAsync</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;">topic</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#59873A;--shiki-dark:#9CDCFE;"> appendMessages</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;"> conv</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;">Messages</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#DCDCAA;">ToList</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">());</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;">    Console</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#DCDCAA;">Write</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;">conv</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;">Messages</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#DCDCAA;">Last</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">().</span><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;">Content</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">}</span></span></code></pre></div><h3 id="setup-api-key" tabindex="-1">Setup API key <a class="header-anchor" href="#setup-api-key" aria-label="Permalink to &quot;Setup API key&quot;">​</a></h3><div class="language-csharp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">csharp</span><pre class="shiki shiki-themes vitesse-light dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#2E8F82;--shiki-dark:#4EC9B0;">TornadoApi</span><span style="--shiki-light:#59873A;--shiki-dark:#9CDCFE;"> api</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#AB5959;--shiki-dark:#569CD6;"> new</span><span style="--shiki-light:#2E8F82;--shiki-dark:#4EC9B0;"> TornadoApi</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#CE9178;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#CE9178;">your-api-key</span><span style="--shiki-light:#B5695977;--shiki-dark:#CE9178;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">);</span></span></code></pre></div><h3 id="create-the-agent" tabindex="-1">Create the agent <a class="header-anchor" href="#create-the-agent" aria-label="Permalink to &quot;Create the agent&quot;">​</a></h3><div class="language-csharp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">csharp</span><pre class="shiki shiki-themes vitesse-light dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#2E8F82;--shiki-dark:#4EC9B0;">TornadoAgent</span><span style="--shiki-light:#59873A;--shiki-dark:#9CDCFE;"> agent</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#AB5959;--shiki-dark:#569CD6;"> new</span><span style="--shiki-light:#2E8F82;--shiki-dark:#4EC9B0;"> TornadoAgent</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;">api</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;"> ChatModel</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;">OpenAi</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;">Gpt41</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;">V41Mini</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#59873A;--shiki-dark:#9CDCFE;"> instructions</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#CE9178;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#CE9178;">You are a useful assistant.</span><span style="--shiki-light:#B5695977;--shiki-dark:#CE9178;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">);</span></span></code></pre></div><h3 id="setup-a-conversation-to-keep-message-history" tabindex="-1">Setup a Conversation to keep message history <a class="header-anchor" href="#setup-a-conversation-to-keep-message-history" aria-label="Permalink to &quot;Setup a Conversation to keep message history&quot;">​</a></h3><div class="language-csharp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">csharp</span><pre class="shiki shiki-themes vitesse-light dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#2E8F82;--shiki-dark:#4EC9B0;">Conversation</span><span style="--shiki-light:#59873A;--shiki-dark:#9CDCFE;"> conv</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;"> agent</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;">Client</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;">Chat</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#DCDCAA;">CreateConversation</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;">agent</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;">Options</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">);</span></span></code></pre></div><h3 id="setup-a-simple-chat-loop-to-continue-conversation" tabindex="-1">Setup a simple chat loop to continue conversation <a class="header-anchor" href="#setup-a-simple-chat-loop-to-continue-conversation" aria-label="Permalink to &quot;Setup a simple chat loop to continue conversation&quot;">​</a></h3><div class="language-csharp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">csharp</span><pre class="shiki shiki-themes vitesse-light dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;">Console</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#DCDCAA;">Write</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#CE9178;">&quot;</span><span style="--shiki-light:#A65E2B;--shiki-dark:#D7BA7D;">\\n</span><span style="--shiki-light:#B56959;--shiki-dark:#CE9178;">[Assistant]: Hello</span><span style="--shiki-light:#B5695977;--shiki-dark:#CE9178;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#569CD6;">string</span><span style="--shiki-light:#59873A;--shiki-dark:#9CDCFE;"> topic</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#B5695977;--shiki-dark:#CE9178;"> &quot;&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#C586C0;">while</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;">topic</span><span style="--shiki-light:#AB5959;--shiki-dark:#D4D4D4;"> !=</span><span style="--shiki-light:#B5695977;--shiki-dark:#CE9178;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#CE9178;">exit</span><span style="--shiki-light:#B5695977;--shiki-dark:#CE9178;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">{</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;">    Console</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#DCDCAA;">Write</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#CE9178;">&quot;</span><span style="--shiki-light:#A65E2B;--shiki-dark:#D7BA7D;">\\n</span><span style="--shiki-light:#B56959;--shiki-dark:#CE9178;">[User]: </span><span style="--shiki-light:#B5695977;--shiki-dark:#CE9178;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;">    topic</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;"> Console</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#DCDCAA;">ReadLine</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">();</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#C586C0;">    if</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;">topic</span><span style="--shiki-light:#AB5959;--shiki-dark:#D4D4D4;"> ==</span><span style="--shiki-light:#B5695977;--shiki-dark:#CE9178;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#CE9178;">exit</span><span style="--shiki-light:#B5695977;--shiki-dark:#CE9178;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">)</span><span style="--shiki-light:#1E754F;--shiki-dark:#C586C0;"> break</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;">    Console</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#DCDCAA;">Write</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#CE9178;">&quot;</span><span style="--shiki-light:#A65E2B;--shiki-dark:#D7BA7D;">\\n</span><span style="--shiki-light:#B56959;--shiki-dark:#CE9178;">[Assistant]: </span><span style="--shiki-light:#B5695977;--shiki-dark:#CE9178;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#D4D4D4;">    ..</span><span style="--shiki-light:#393A34;--shiki-dark:#D4D4D4;">.</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">}</span></span></code></pre></div><h3 id="invoke-the-agent" tabindex="-1">Invoke the agent <a class="header-anchor" href="#invoke-the-agent" aria-label="Permalink to &quot;Invoke the agent&quot;">​</a></h3><p>Using <code>conv.Messages.ToList()</code> to append message history for each iteration</p><div class="language-csharp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">csharp</span><pre class="shiki shiki-themes vitesse-light dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;">conv</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#AB5959;--shiki-dark:#569CD6;"> await</span><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;"> agent</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#DCDCAA;">RunAsync</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;">topic</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#59873A;--shiki-dark:#9CDCFE;"> appendMessages</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;"> conv</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;">Messages</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#DCDCAA;">ToList</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">());</span></span></code></pre></div><h2 id="streaming-chat-bot" tabindex="-1">Streaming Chat Bot <a class="header-anchor" href="#streaming-chat-bot" aria-label="Permalink to &quot;Streaming Chat Bot&quot;">​</a></h2><p>Just need to set <code>streaming:true</code> in <code>agent.RunAsync()</code> along with a event handler <code>onAgentRunnerEvent: runEventHandler</code></p><div class="language-csharp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">csharp</span><pre class="shiki shiki-themes vitesse-light dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#2E8F82;--shiki-dark:#4EC9B0;">TornadoAgent</span><span style="--shiki-light:#59873A;--shiki-dark:#9CDCFE;"> agent</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#AB5959;--shiki-dark:#569CD6;"> new</span><span style="--shiki-light:#2E8F82;--shiki-dark:#4EC9B0;"> TornadoAgent</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">(</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;">    api</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#393A34;--shiki-dark:#D4D4D4;"> </span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;">    ChatModel</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;">OpenAi</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;">Gpt41</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;">V41Mini</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#59873A;--shiki-dark:#9CDCFE;"> instructions</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#393A34;--shiki-dark:#D4D4D4;"> </span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#CE9178;">    &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#CE9178;">You are a useful assistant.</span><span style="--shiki-light:#B5695977;--shiki-dark:#CE9178;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;"> s</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#9CDCFE;">    treaming</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#1E754F;--shiki-dark:#569CD6;">true</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#2E8F82;--shiki-dark:#4EC9B0;">Conversation</span><span style="--shiki-light:#59873A;--shiki-dark:#9CDCFE;"> conv</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;"> agent</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;">Client</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;">Chat</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#DCDCAA;">CreateConversation</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;">agent</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;">Options</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;">Console</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#DCDCAA;">WriteLine</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#CE9178;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#CE9178;">[Assistant]: Hello</span><span style="--shiki-light:#B5695977;--shiki-dark:#CE9178;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#569CD6;">string</span><span style="--shiki-light:#59873A;--shiki-dark:#9CDCFE;"> topic</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#B5695977;--shiki-dark:#CE9178;"> &quot;&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#C586C0;">while</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;">topic</span><span style="--shiki-light:#AB5959;--shiki-dark:#D4D4D4;"> !=</span><span style="--shiki-light:#B5695977;--shiki-dark:#CE9178;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#CE9178;">exit</span><span style="--shiki-light:#B5695977;--shiki-dark:#CE9178;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">{</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;">    Console</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#DCDCAA;">Write</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#CE9178;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#CE9178;">[User]: </span><span style="--shiki-light:#B5695977;--shiki-dark:#CE9178;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;">    topic</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;"> Console</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#DCDCAA;">ReadLine</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">();</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#C586C0;">    if</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;">topic</span><span style="--shiki-light:#AB5959;--shiki-dark:#D4D4D4;"> ==</span><span style="--shiki-light:#B5695977;--shiki-dark:#CE9178;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#CE9178;">exit</span><span style="--shiki-light:#B5695977;--shiki-dark:#CE9178;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">)</span><span style="--shiki-light:#1E754F;--shiki-dark:#C586C0;"> break</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;">    Console</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#DCDCAA;">Write</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#CE9178;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#CE9178;">[Assistant]: </span><span style="--shiki-light:#B5695977;--shiki-dark:#CE9178;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;">    conv</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#AB5959;--shiki-dark:#569CD6;"> await</span><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;"> agent</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#DCDCAA;">RunAsync</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">(</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;">        topic</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#59873A;--shiki-dark:#9CDCFE;"> appendMessages</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#393A34;--shiki-dark:#D4D4D4;"> </span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;">        conv</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;">Messages</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#DCDCAA;">ToList</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">(),</span><span style="--shiki-light:#393A34;--shiki-dark:#D4D4D4;"> </span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#9CDCFE;">        streaming</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#1E754F;--shiki-dark:#569CD6;"> true</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#393A34;--shiki-dark:#D4D4D4;"> </span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#9CDCFE;">        onAgentRunnerEvent</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;"> runEventHandler</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;">    Console</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#DCDCAA;">WriteLine</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">();</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#569CD6;">public</span><span style="--shiki-light:#AB5959;--shiki-dark:#569CD6;"> static</span><span style="--shiki-light:#2E8F82;--shiki-dark:#4EC9B0;"> ValueTask</span><span style="--shiki-light:#59873A;--shiki-dark:#DCDCAA;"> runEventHandler</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#2E8F82;--shiki-dark:#4EC9B0;">AgentRunnerEvents</span><span style="--shiki-light:#59873A;--shiki-dark:#9CDCFE;"> runEvent</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">{</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#C586C0;">    switch</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;">runEvent</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">    {</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#C586C0;">        case</span><span style="--shiki-light:#2E8F82;--shiki-dark:#4EC9B0;"> AgentRunnerStreamingEvent</span><span style="--shiki-light:#59873A;--shiki-dark:#9CDCFE;"> streamingEvent</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#C586C0;">            if</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;">streamingEvent</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;">ModelStreamingEvent</span><span style="--shiki-light:#AB5959;--shiki-dark:#569CD6;"> is</span><span style="--shiki-light:#2E8F82;--shiki-dark:#4EC9B0;"> ModelStreamingOutputTextDeltaEvent</span><span style="--shiki-light:#59873A;--shiki-dark:#9CDCFE;"> deltaTextEvent</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">            {</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;">                Console</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#DCDCAA;">Write</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;">deltaTextEvent</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;">DeltaText</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">);</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#6A9955;"> // Write the text delta directly</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">            }</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#C586C0;">            break</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#C586C0;">        default</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#C586C0;">            break</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">    }</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#C586C0;">    return</span><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;"> ValueTask</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#9CDCFE;">CompletedTask</span><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#D4D4D4;">}</span></span></code></pre></div>`,17)]))}const y=i(k,[["render",t]]);export{g as __pageData,y as default};
